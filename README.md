# ü´Ä IoT-—Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≠–ö–ì —Å –ò–ò-–∞–Ω–∞–ª–∏–∑–æ–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

–ü–æ—Ä—Ç–∞—Ç–∏–≤–Ω–æ–µ edge-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–∞ –±–∞–∑–µ **Raspberry Pi 5**, –∫–æ—Ç–æ—Ä–æ–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç, –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç **—ç–ª–µ–∫—Ç—Ä–æ–∫–∞—Ä–¥–∏–æ–≥—Ä–∞–º–º—É (–≠–ö–ì)**.  
–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç **–ª–æ–∫–∞–ª—å–Ω–æ**, –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–±–ª–∞–∫–∞, –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ reverse proxy ‚Äî –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–ª–µ–º–µ–¥–∏—Ü–∏–Ω—ã, —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª–µ–π –∏ –¥–æ–º–∞—à–Ω–µ–≥–æ —Å–∫—Ä–∏–Ω–∏–Ω–≥–∞.

![–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞ rasberry pi 5 + ad8232 –≠–ö–ì DIY –ø—Ä–æ–µ–∫—Ç](image.png)
---

## üí° –§–∏–∑–∏—á–µ—Å–∫–∞—è –æ—Å–Ω–æ–≤–∞: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å–µ—Ä–¥—Ü–∞

–°–µ—Ä–¥—Ü–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç **–±–∏–æ—ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–µ –∏–º–ø—É–ª—å—Å—ã**, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –ø—Ä–∏ –¥–µ–ø–æ–ª—è—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Ä–µ–ø–æ–ª—è—Ä–∏–∑–∞—Ü–∏–∏ –∫–∞—Ä–¥–∏–æ–º–∏–æ—Ü–∏—Ç–æ–≤. –≠—Ç–∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—ã —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ —Ç–∫–∞–Ω—è–º —Ç–µ–ª–∞ –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –∫–æ–∂–∏ —Å –ø–æ–º–æ—â—å—é —ç–ª–µ–∫—Ç—Ä–æ–¥–æ–≤.

–≠–ö–ì –æ—Ç—Ä–∞–∂–∞–µ—Ç **–≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏–Ω–∞–º–∏–∫—É —Ä–∞–∑–Ω–æ—Å—Ç–∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–≤** –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏ —Ç–µ–ª–∞. –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è 12-–∫–∞–Ω–∞–ª—å–Ω–∞—è –≠–ö–ì –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 10 —ç–ª–µ–∫—Ç—Ä–æ–¥–æ–≤, –Ω–æ —É–∂–µ **—Ç—Ä–∏ –æ—Ç–≤–µ–¥–µ–Ω–∏—è** (I, II, III) –ø–æ–∑–≤–æ–ª—è—é—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–µ–∫—Ç–æ—Ä–µ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å–µ—Ä–¥—Ü–∞ –≤ —Ñ—Ä–æ–Ω—Ç–∞–ª—å–Ω–æ–π –ø–ª–æ—Å–∫–æ—Å—Ç–∏ ‚Äî —ç—Ç–æ **–∑–∞–∫–æ–Ω –≠–π–Ω—Ç—Ö–æ–≤–µ–Ω–∞**:

- **I = L ‚àí R**  
- **II = F ‚àí R**  
- **III = F ‚àí L**

–≥–¥–µ **R**, **L**, **F** ‚Äî –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—ã –Ω–∞ –ø—Ä–∞–≤–æ–π —Ä—É–∫–µ, –ª–µ–≤–æ–π —Ä—É–∫–µ –∏ –ª–µ–≤–æ–π –Ω–æ–≥–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –ù–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–∏—Ö —Ç—Ä—ë—Ö –æ—Ç–≤–µ–¥–µ–Ω–∏–π –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è —É–Ω–∏–ø–æ–ª—è—Ä–Ω—ã–µ —É—Å–∏–ª–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ–¥–µ–Ω–∏—è:

- **aVR = ‚àí(I + II)/2**  
- **aVL = I ‚àí II/2**  
- **aVF = II ‚àí I/2**

–í –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º **–¥–≤–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –∫–∞–Ω–∞–ª–∞ (I –∏ II)**, —Å—á–∏—Ç–∞–Ω–Ω—ã—Ö —Å –º–æ–¥—É–ª—è **AD8232**, –∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ **—à–µ—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –æ—Ç–≤–µ–¥–µ–Ω–∏–π** –ø–æ –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω—ã–º —Ñ–æ—Ä–º—É–ª–∞–º. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –∞–ø–ø–∞—Ä–∞—Ç–Ω—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å, —Å–æ—Ö—Ä–∞–Ω–∏–≤ –∫–ª–∏–Ω–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

–î–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ —Å–∏–≥–Ω–∞–ª–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è **–ø–æ–ª–æ—Å–æ–≤–æ–π —Ñ–∏–ª—å—Ç—Ä 0.5‚Äì40 –ì—Ü** (—Ñ–∏–ª—å—Ç—Ä –ë–∞—Ç—Ç–µ—Ä–≤–æ—Ä—Ç–∞ 4-–≥–æ –ø–æ—Ä—è–¥–∫–∞), —É—Å—Ç—Ä–∞–Ω—è—é—â–∏–π –¥—Ä–µ–π—Ñ –±–∞–∑–æ–≤–æ–π –ª–∏–Ω–∏–∏ –∏ –≤—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã–π —à—É–º (–º—ã—à–µ—á–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã, –ø–æ–º–µ—Ö–∏ —Å–µ—Ç–∏).

---

## üåü –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ó–∞–ø–∏—Å—å –≠–ö–ì –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å –¥–∞—Ç—á–∏–∫–∞ **AD8232** —á–µ—Ä–µ–∑ **Arduino Nano**
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ **6 –æ—Ç–≤–µ–¥–µ–Ω–∏–π** (I, II, III, aVR, aVL, aVF) –ø–æ —Ñ–æ—Ä–º—É–ª–∞–º –≠–π–Ω—Ç—Ö–æ–≤–µ–Ω–∞
- –ü–æ–ª–æ—Å–æ–≤–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (**0.5‚Äì40 –ì—Ü**) –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è **19 –∫–∞—Ä–¥–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ç–æ–ª–æ–≥–∏–π** (–∞—Ä–∏—Ç–º–∏–∏, –±–ª–æ–∫–∞–¥—ã, —Å–∏–Ω–¥—Ä–æ–º—ã)
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å **live-–≥—Ä–∞—Ñ–∏–∫–∞–º–∏** –∏ –∫–Ω–æ–ø–∫–æ–π –∞–Ω–∞–ª–∏–∑–∞
- –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ **frp** (–±–µ–∑ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ IP)
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å **frp** –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ **Candy** (–≤–µ–±-—á–∞—Ç)

---

## üß† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```
AD8232 + Arduino Nano 
        ‚Üì (Serial ‚Üí pyserial)
Raspberry Pi 5 (Edge)
  ‚îú‚îÄ –ü—Ä–∏—ë–º –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–∞ (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–≤–µ–¥–µ–Ω–∏–π)
  ‚îú‚îÄ –õ–æ–∫–∞–ª—å–Ω—ã–π –ò–ò-–∞–Ω–∞–ª–∏–∑ (TorchScript, CPU-only inference)
  ‚îî‚îÄ FastAPI + WebSocket ‚Üí –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
        ‚Üì (frp reverse tunnel)
VPS (159.255.36.113)
  ‚îú‚îÄ frps: –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤ + –∞–¥–º–∏–Ω–∫–∞ (–ø–æ—Ä—Ç 7500)
  ‚îî‚îÄ Candy: –≤–µ–±-—á–∞—Ç –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏
```

> –ú–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞ –≤ **Podman-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ** –Ω–∞ **Fedora Silverblue** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–∞—Ç–∞—Å–µ—Ç–∞ **PTB-XL** (~21‚ÄØ800 –∑–∞–ø–∏—Å–µ–π).

---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Raspberry Pi 5 (4 –ì–ë RAM –∏–ª–∏ –±–æ–ª—å—à–µ)
- AD8232 ECG Sensor
- Arduino Nano
- –≠–ª–µ–∫—Ç—Ä–æ–¥—ã (–º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –∏–ª–∏ —Å–∞–º–æ–¥–µ–ª—å–Ω—ã–µ)
- VPS —Å –ø—É–±–ª–∏—á–Ω—ã–º IP (–¥–ª—è frp)

### –ù–∞ Raspberry Pi
```bash
sudo apt update && sudo apt install python3 python3-pip
pip3 install fastapi uvicorn pyserial torch numpy scipy

git clone https://github.com/–≤–∞—à-–ª–æ–≥–∏–Ω/ecg-iot.git
cd ecg-iot

cd ./rp && ./venv/bin/activate
uvicorn main:app --host localhost --port 8000 --reload --log-level debug
```

### –ù–∞ VPS (–¥–ª—è frp)
```bash
./frps -c frps.toml
```

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ `frpc` –Ω–∞ Raspberry Pi –¥–ª—è –ø—Ä–æ–±—Ä–æ—Å–∞ –ø–æ—Ä—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `8000 ‚Üí 8001`).

> –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å: http://159.255.36.113:8001  
> –ê–¥–º–∏–Ω–∫–∞ frp: http://159.255.36.113:7500

---

## üñ•Ô∏è –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

- Live-–≥—Ä–∞—Ñ–∏–∫–∏ –≤—Å–µ—Ö 6 –æ—Ç–≤–µ–¥–µ–Ω–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ 10-—Å–µ–∫—É–Ω–¥–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
- –ê–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∑–∞–ø–∏—Å–∏ –ø–æ –∫–Ω–æ–ø–∫–µ **¬´–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥–Ω–æ–∑¬ª**
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ —Å–≤–æ–∏—Ö `.npy`-—Ñ–∞–π–ª–æ–≤ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- –≠—Ç–æ **–ø—Ä–æ—Ç–æ—Ç–∏–ø –¥–ª—è —Å–∫—Ä–∏–Ω–∏–Ω–≥–∞**, –∞ –Ω–µ —Å–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –ø—Ä–∏–±–æ—Ä.
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ò–ò **–Ω–µ –∑–∞–º–µ–Ω—è—é—Ç –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é –≤—Ä–∞—á–∞**.
- –ö–∞—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–∞ —Å–∏–ª—å–Ω–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç **–∫–æ–Ω—Ç–∞–∫—Ç–∞ —ç–ª–µ–∫—Ç—Ä–æ–¥–æ–≤** –∏ –ø–æ–ª–æ–∂–µ–Ω–∏—è —Ç–µ–ª–∞.

---

## üìö –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### –ê–ø–ø–∞—Ä–∞—Ç–Ω–∞—è —á–∞—Å—Ç—å
- **AD8232** ‚Äî –∞–Ω–∞–ª–æ–≥–æ–≤—ã–π —Ñ—Ä–æ–Ω—Ç-—ç–Ω–¥ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –±–∏–æ–ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–≤
- **Arduino Nano** ‚Äî —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –ø–æ UART
- **Raspberry Pi 5** ‚Äî edge-–≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∏ –∑–∞–ø—É—Å–∫ –ò–ò

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π —Å—Ç–µ–∫
- **Python 3**, **FastAPI**, **WebSocket**, **pyserial**
- **NumPy/SciPy** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, —Ñ–æ—Ä–º—É–ª—ã –≠–π–Ω—Ç—Ö–æ–≤–µ–Ω–∞)
- **PyTorch + TorchScript** ‚Äî –ò–ò-–º–æ–¥–µ–ª—å –¥–ª—è –º—É–ª—å—Ç–∏–ª–µ–π–±–ª-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ (19 –∫–ª–∞—Å—Å–æ–≤)
- **PTB-XL** ‚Äî –¥–∞—Ç–∞—Å–µ—Ç –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
- **Chart.js + Jinja2** ‚Äî –≤–µ–±-–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- **frp + Candy** ‚Äî –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

---

## üìì –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- **Edge-first**: –∏–Ω—Ñ–µ—Ä–µ–Ω—Å –Ω–∞ Raspberry Pi, –±–µ–∑ –æ–±–ª–∞–∫–∞
- **–§–∏–∑–∏—á–µ—Å–∫–∏ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è** –æ—Ç–≤–µ–¥–µ–Ω–∏–π –ø–æ –∑–∞–∫–æ–Ω—É –≠–π–Ω—Ç—Ö–æ–≤–µ–Ω–∞
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: Serial-—á—Ç–µ–Ω–∏–µ –≤ —Ñ–æ–Ω–µ + async FastAPI
- **–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**: –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
- **–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π hardware**: –≤—Å–µ–≥–æ –¥–≤–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –∫–∞–Ω–∞–ª–∞ ‚Üí —à–µ—Å—Ç—å –∫–ª–∏–Ω–∏—á–µ—Å–∫–∏—Ö –æ—Ç–≤–µ–¥–µ–Ω–∏–π

---

